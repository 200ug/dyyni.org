<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link
    rel="alternate"
    type="application/rss+xml"
    href="{{ .Site.BaseURL }}/index.xml"
    title="{{ .Site.Title }}" />

  {{ if .IsPage }}<meta name="description" content="{{ .Summary }}" />{{ end }}

  <!-- parse the tailwind helper css.html -->
  {{ with (templates.Defer (dict "key" "global")) }}
    {{ partial "css.html" . }}
  {{ end }}

  <!-- very important script -->
  {{ with resources.Get "js/disablejs.js" }}
    {{ if hugo.IsDevelopment }}
      <script src="{{ .RelPermalink }}"></script>
    {{ else }}
      {{ with . | minify | fingerprint }}
        <script src="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}"></script>
      {{ end }}
    {{ end }}
  {{ end }}

  <title>
    {{ if .IsHome }}
      {{ .Site.Title }}/index
    {{ else if eq .Section "posts" }}
      {{ .Site.Title }}/{{ .Params.post_number }}
    {{ else if eq .Title "404 Page not found" }}
      {{ .Site.Title }}/451
    {{ else }}
      {{ .Site.Title }}/{{ .Title | lower }}
    {{ end }}
  </title>

  <!-- primary favicon -->
  <link
    id="favicon"
    rel="shortcut icon"
    type="image/x-icon"
    href="{{ $.Site.Params.favicon | relURL }}" />

  <!-- syntax highlighting -->
  {{ $syntaxStyle := resources.Get "css/syntax.css" | resources.Minify | resources.Fingerprint "sha512" }}
  <link
    rel="stylesheet"
    href="{{ $syntaxStyle.Permalink | relURL }}"
    integrity="{{ $syntaxStyle.Data.Integrity }}" />

  <!-- mobile icons -->
  <link
    rel="apple-touch-icon"
    sizes="180x180"
    href="/images/assets/apple-touch-icon.png" />
  <link rel="manifest" href="/images/assets/manifest.json" />
</head>
